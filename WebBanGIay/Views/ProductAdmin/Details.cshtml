@model WebBanGIay.Models.SANPHAM
@{
    ViewBag.Title = "Chi tiết sản phẩm";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="container py-4" style="color:#d8e5f7; max-width: 700px;">
    <div class="card bg-dark border-secondary shadow">
        <div class="card-header border-secondary bg-info text-dark">
            <h4 class="mb-0 fw-bold"><i class="bi bi-info-circle"></i> Chi tiết sản phẩm</h4>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-4 text-center mb-3">
                    @{
                        var imgPath = "/source/images/shoes.png"; // Default
                        if (!string.IsNullOrEmpty(Model.HINHANH))
                        {
                            if (Model.HINHANH.StartsWith("/"))
                            {
                                imgPath = Model.HINHANH; // Full path
                            }
                            else if (Model.HINHANH.StartsWith("source/"))
                            {
                                imgPath = "/" + Model.HINHANH; // Add leading slash
                            }
                            else
                            {
                                imgPath = "/source/images/Products/" + Model.HINHANH; // Just filename
                            }
                        }
                    }
                    <img src="@imgPath" class="img-fluid rounded border" style="max-height:200px;" onerror="this.onerror=null; this.src='/source/images/shoes.png';" alt="@Model.TENSANPHAM" />
                </div>
                <div class="col-md-8">
                    <table class="table table-dark table-borderless">
                        <tr>
                            <th style="width:120px;">Mã SP:</th>
                            <td class="fw-bold text-primary">@Model.MASANPHAM.Trim()</td>
                        </tr>
                        <tr>
                            <th>Tên SP:</th>
                            <td class="fw-bold">@Model.TENSANPHAM</td>
                        </tr>
                        <tr>
                            <th>Giá:</th>
                            <td class="fw-bold text-success">@string.Format("{0:N0}", Model.GIA) đ</td>
                        </tr>
                        <tr>
                            <th>Tồn kho:</th>
                            <td>@Model.SOLUONGTON</td>
                        </tr>
                        <tr>
                            <th>Ngày tạo:</th>
                            <td>@Model.NGAYTAO</td>
                        </tr>
                    </table>
                </div>
            </div>

            @if (!string.IsNullOrEmpty(Model.MOTA))
            {
                <div class="mt-3">
                    <label class="text-muted small">Mô tả:</label>
                    <div class="p-3 bg-secondary rounded">@Model.MOTA</div>
                </div>
            }

            <div class="d-flex gap-2 mt-4">
                <a href="@Url.Action("Edit", new { id = Model.MASANPHAM.Trim() })" class="btn btn-warning">
                    <i class="bi bi-pencil"></i> Sửa
                </a>
                <a href="@Url.Action("Delete", new { id = Model.MASANPHAM.Trim() })" class="btn btn-danger">
                    <i class="bi bi-trash"></i> Xóa
                </a>
                <a href="@Url.Action("Index")" class="btn btn-outline-secondary">
                    <i class="bi bi-arrow-left"></i> Quay lại
                </a>
            </div>
        </div>
    </div>
</div>
