@model WebBanGIay.Models.TAIKHOAN
@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    ViewBag.Title = "Chi tiết tài khoản";
}

<style>
    .page-container {
        padding: 24px;
        color: var(--text-main);
    }
</style>

<div class="page-container">
    <div class="row justify-content-center">
        <div class="col-md-7">
            <div class="card card-premium shadow-lg">
                <div class="card-header-premium">
                    <h5><i class="bi bi-person-badge text-info"></i> Chi tiết tài khoản</h5>
                    <div>
                         @if (Model.LOAITAIKHOAN == "QUẢN TRỊ")
                        {
                            <span class="badge bg-danger">QUẢN TRỊ</span>
                        }
                        else if (Model.LOAITAIKHOAN == "NHÂN VIÊN")
                        {
                            <span class="badge bg-warning text-dark">NHÂN VIÊN</span>
                        }
                        else
                        {
                            <span class="badge bg-success">KHÁCH HÀNG</span>
                        }

                        @if (Model.TRANGTHAI == false)
                        {
                            <span class="badge bg-danger ms-2"><i class="bi bi-lock-fill me-1"></i>ĐÃ KHÓA</span>
                        }
                        else
                        {
                            <span class="badge bg-success ms-2"><i class="bi bi-check-circle-fill me-1"></i>HOẠT ĐỘNG</span>
                        }
                    </div>
                </div>
                <div class="card-body p-4">
                    
                    <div class="row align-items-center mb-4">
                        <div class="col-auto">
                            <i class="bi bi-person-circle text-muted" style="font-size: 4rem;"></i>
                        </div>
                        <div class="col">
                            <h4 class="mb-1 text-main">@Model.TENTAIKHOAN</h4>
                            <small class="text-muted"><i class="bi bi-upc-scan me-1"></i>Mã TK: @Model.MATAIKHOAN.Trim()</small>
                        </div>
                    </div>

                    <div class="p-3 mb-4 rounded border border-secondary border-opacity-25 bg-secondary bg-opacity-10">
                        <div class="row g-3">
                            <div class="col-sm-6">
                                <label class="form-label-premium text-muted mb-1">Ngày tạo</label>
                                <div class="fw-bold fs-6"><i class="bi bi-calendar3 me-2"></i>@(Model.NGAYTAO.HasValue ? Model.NGAYTAO.Value.ToString("dd/MM/yyyy HH:mm") : "N/A")</div>
                            </div>
                             
                            @if (Model.KHACHHANG != null)
                            {
                                <div class="col-sm-6">
                                    <label class="form-label-premium text-info mb-1">Khách hàng Liên kết</label>
                                    <div class="fw-bold text-main fs-6">@Model.KHACHHANG.HOTEN</div>
                                </div>
                            }
                            @if (Model.NHANVIEN != null)
                            {
                                <div class="col-sm-6">
                                    <label class="form-label-premium text-warning mb-1">Nhân viên Liên kết</label>
                                    <div class="fw-bold text-main fs-6">@Model.NHANVIEN.HOTEN</div>
                                </div>
                            }
                        </div>
                    </div>

                    <div class="d-flex justify-content-end gap-3 mt-5">
                        <a href="@Url.Action("Users")" class="btn btn-outline-secondary btn-premium">
                            <i class="bi bi-arrow-left me-1"></i>Trở về
                        </a>
                        <a href="@Url.Action("DeleteUser", new { id = Model.MATAIKHOAN.Trim() })" class="btn btn-outline-danger btn-premium">
                            <i class="bi bi-trash me-1"></i>Xóa
                        </a>
                        <a href="@Url.Action("EditUser", new { id = Model.MATAIKHOAN.Trim() })" class="btn btn-warning btn-premium">
                            <i class="bi bi-pencil-square me-1"></i>Sửa thông tin
                        </a>
                        
                        @if (Model.TRANGTHAI == false)
                        {
                            <a href="@Url.Action("ToggleLock", new { id = Model.MATAIKHOAN.Trim() })" class="btn btn-success btn-premium">
                                <i class="bi bi-unlock-fill me-1"></i>Mở khóa
                            </a>
                        }
                        else
                        {
                            <a href="@Url.Action("ToggleLock", new { id = Model.MATAIKHOAN.Trim() })" class="btn btn-danger btn-premium">
                                <i class="bi bi-lock-fill me-1"></i>Khóa tài khoản
                            </a>
                        }
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
