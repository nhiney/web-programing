# Technical Specification (SPEC) - WebBanGiay Admin

## 1. Overview
The **WebBanGiay Admin** is a web-based administration interface for managing the Shoe Sales system. It allows administrators and staff to manage users, products, orders, and view business statistics.

## 2. Technology Stack
- **Framework**: ASP.NET MVC 5 (.NET Framework 4.7.2+)
- **Language**: C#
- **Database**: SQL Server (Entity Framework 6 - Database First)
- **Frontend**: Razor Views, Bootstrap 5, Chart.js, jQuery
- **Authentication**: Session-based Authentication

## 3. Architecture
The project follows the standard **MVC (Model-View-Controller)** pattern.
- **Controllers**: Handle HTTP requests, business logic, and interaction with the Database via Entity Framework.
- **Models**: Generated by EF (.edmx) representing Database tables. ViewModels are used for complex data presentation (e.g., Dashboard).
- **Views**: Razor (.cshtml) templates for UI rendering.

## 4. Key Features

### 4.1 Authentication
- Login/Logout functionality.
- Role-based redirection (Admin/Staff -> Admin Portal, Customer -> Home).
- Password Hashing using SHA256 (Admin) and custom Hasher (User).

### 4.2 Dashboard (`/Admin/Index`)
- **Key Metrics**: Total Users, Products, Orders, Revenue.
- **Charts**:
    - Revenue Over Time (Line Chart)
    - Top Selling Products (Bar Chart)
    - Order Status Distribution (Doughnut Chart)
    - Monthly Orders (Line Chart)

### 4.3 User Management (`/Admin/Users`)
- List users with role filtering.
- Create, Edit, Delete users.
- Role management (Admin, Staff, Customer).

### 4.4 Product Management (`/ProductAdmin`)
- List products with image preview.
- Add/Edit/Delete products with Image Upload.
- Inventory tracking.

### 4.5 Order Management (`/OrderAdmin`)
- List orders with Status filtering (Pending, Shipping, Completed, Cancelled).
- View Order Details (Customer info, Product list, calculated totals).
- **Workflow**: 
    1. Receive Order (Pending)
    2. Confirm Shipment (-> Shipping)
    3. Complete Order (-> Completed)
    4. Or Cancel (-> Cancelled)

### 4.6 Inventory Import (`/ImportAdmin`)
- Simple interface to select a product and add quantity to stock.
- Simulates "Goods Receipt" process.

## 5. Database Schema
- **TAIKHOAN**: User accounts.
- **SANPHAM**: Products inventory.
- **HOADON / CHITIET_HOADON**: Orders and Order Lines.
- **KHACHHANG**: Customer profiles.

## 6. Future Improvements
- Implement persistent "Import Slip" history table.
- Add API for Mobile App integration.
- Advance Payment Gateway integration (Momo, VNPay).
